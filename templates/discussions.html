{% extends "base.html" %}

{%block head%}
    {{ super() }}
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='styles/discussions.css') }}"> -->
    <script src="{{url_for('static', filename='home.js')}}" defer></script>
{% endblock %}

{%block title %} Discussions Section {% endblock %}

{%block content %}
    <div class="container">
        <div class="sidebar">
            <br><p1 style="text-align:center;">Navigation</p1>
        </div>
        <div class="space">
            <br>
            <p2>Discussions Section</p2>
     
            <div class="add_post">
               <p1>Create New Discussion</p1>
                <form id="form">                       
                    <input type="text" id="title" placeholder="Post title" required maxlength="50">
                    <input type="text" id="author" placeholder="By.." required maxlength="50">
                    <input type="text" id="course" placeholder="Class (optional).." required maxlength="50">
                    <textarea id="content" placeholder="Post content" required></textarea>
                    <button id="submitForm">Create Post</button>
                </form>
            </div>    
            <div class="list-group">
                {% for discussion in discussions %}    
                    <a href="{{ url_for('dis_posts', discussion_id=discussion.id) }}" class = "list-group-item">
                       <div class="whereithappens">
                            <div id="header">
                                <p id="title">{{discussion.title}}</p1>
                                <p id="author">By: {{discussion.author}}</p>
                                <p id="course">Course: {{discussion.course}}</p>  
                            </div>

                            <p id="content">{{discussion.content}}</p>  
                    
                            <div id="information">             
                                <div class="upvote-count">
                                    <img
                                      id="{{discussion.id}}"
                                      onclick="upvote(this)"
                                      src="{{url_for('static',
                                        filename='/upvote.png')}}"
                                      class="upvote"
                                    /><img />  
                                 </div>            
                                <p id="created_at">{{discussion.created_at}}</p>
                            </div>
                        </div>
                        

                    </a>
                {% endfor %}   
            </div>
        </div>
    </div>
{%endblock%}





